<!DOCTYPE html>
<html>
  <head>
    <title>Bristol International Exhibition 1914 | A Mashup by @gothick</title>
    <meta http-equiv="imagetoolbar" content="no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name='author' content='Matt Gibson, gothick@gothick.org.uk'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.2/leaflet.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/ardhi/Leaflet.MousePosition/master/src/L.Control.MousePosition.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.2/leaflet.js" type="text/javascript"></script>
    <script src="https://cdn.rawgit.com/ardhi/Leaflet.MousePosition/master/src/L.Control.MousePosition.js" type="text/javascript"></script>
    <style>
      body { margin:0; padding:0; width:100%; height:100%; background: #ffffff; }
      #map { position:absolute; top:0; bottom:0; width:100%; z-index: 1; }
      .HistoricControls { position: absolute; top: 20px; right: 20px; z-index: 5; }
      .ModernControls { position: absolute; top: 60px; right: 20px; z-index: 5; }
      .Controls {
        font-family: sans-serif;
        padding: 2px 10px 2px 10px;
        background: white;
        background: rgba(255,255,255,0.9);
        box-shadow: 0 0 15px rgba(0,0,0,0.2);
        border-radius: 5px;
        text-align: right;
        /* display: table-cell;
        vertical-align: middle; */
        display: flex;
        align-items: center;
        height: 30px;
        border: 1px solid cornflowerblue;
      }
      label {
        padding-right: 5px;
      }
    </style>
  </head>
<body>
  <div id="map"></div>
  <div class="HistoricControls Controls">
    <label class="Label" for="slider">Historic Map</label>
    <input id="slider" type="range" min="0" max="1" step="0.1" value="1" oninput="layer.setOpacity(this.value)">
  </div>
  <div class="ModernControls Controls">
    <label class="Label" for="modernSlider">Modern Map</label>
    <input id="modernSlider" type="range" min="0" max="1" step="0.1" value="1" oninput="modernLayer.setOpacity(this.value)">
  </div>
  <script type="text/javascript">

    var mapExtent = [-2.630504, 51.448091, -2.617554, 51.440896];
    var mapMinZoom = 14;
    var mapMaxZoom = 19;
    var bounds = new L.LatLngBounds(
      new L.LatLng(mapExtent[1], mapExtent[0]),
      new L.LatLng(mapExtent[3], mapExtent[2]));
    var map = L.map('map').fitBounds(bounds);
    var white = L.tileLayer("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAQMAAABmvDolAAAAA1BMVEX///+nxBvIAAAAH0lEQVQYGe3BAQ0AAADCIPunfg43YAAAAAAAAAAA5wIhAAAB9aK9BAAAAABJRU5ErkJggg==", {minZoom: 14, maxZoom: 19});
    white.addTo(map);

    var modernLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 19}).addTo(map);
    var layer;
    var attribution = "Modern map data &copy; <a href='https://www.openstreetmap.org/'>OpenStreetMap</a> contributors, <a href='https://creativecommons.org/licenses/by-sa/2.0/'>CC-BY-SA</a>. Historical International Exhibition Map 37165/7/3 Courtesy <a href='https://www.bristolmuseums.org.uk/bristol-archives/'>Bristol Archives</a>.";
    attribution += ' Map tiles generated by <a href="https://gdal.org/programs/gdal2tiles.html">GDAL2Tiles</a>, Copyright &copy; 2008 <a href="http://www.klokan.cz/">Klokan Petr Pridal</a>,  <a href="https://gdal.org">GDAL</a> &amp; <a href="http://www.osgeo.org/">OSGeo</a> <a href="http://code.google.com/soc/">GSoC</a>.  Mashup by <a href="https://gothick.org.uk">gothick</a>.'
    var options = {
      minZoom: mapMinZoom,
      maxZoom: mapMaxZoom,
      opacity: 1.0,
      attribution: attribution,
      tms: false
    };
    layer = L.tileLayer('{z}/{x}/{y}.png', options).addTo(map);
  </script>
</body>
</html>
